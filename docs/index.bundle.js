(self.webpackChunkhexagon_board=self.webpackChunkhexagon_board||[]).push([[826],{426:(t,e,n)=>{"use strict";n.d(e,{Z:()=>s});var r=n(81),a=n.n(r),i=n(645),o=n.n(i)()(a());o.push([t.id,"* {\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box;\n}\n\nbody {\n  overflow: hidden;\n}\n\n#app {\n  width: 100%;\n  min-height: 100vh;\n}\n\n#app canvas {\n  width: 100%;\n  height: 100%;\n  background-color: black;\n}",""]);const s=o},645:t=>{"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n="",r=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),r&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),r&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n})).join("")},e.i=function(t,n,r,a,i){"string"==typeof t&&(t=[[null,t,void 0]]);var o={};if(r)for(var s=0;s<this.length;s++){var c=this[s][0];null!=c&&(o[c]=!0)}for(var u=0;u<t.length;u++){var l=[].concat(t[u]);r&&o[l[0]]||(void 0!==i&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=i),n&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=n):l[2]=n),a&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=a):l[4]="".concat(a)),e.push(l))}},e}},81:t=>{"use strict";t.exports=function(t){return t[1]}},379:t=>{"use strict";var e=[];function n(t){for(var n=-1,r=0;r<e.length;r++)if(e[r].identifier===t){n=r;break}return n}function r(t,r){for(var i={},o=[],s=0;s<t.length;s++){var c=t[s],u=r.base?c[0]+r.base:c[0],l=i[u]||0,h="".concat(u," ").concat(l);i[u]=l+1;var f=n(h),d={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==f)e[f].references++,e[f].updater(d);else{var p=a(d,r);r.byIndex=s,e.splice(s,0,{identifier:h,updater:p,references:1})}o.push(h)}return o}function a(t,e){var n=e.domAPI(e);return n.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;n.update(t=e)}else n.remove()}}t.exports=function(t,a){var i=r(t=t||[],a=a||{});return function(t){t=t||[];for(var o=0;o<i.length;o++){var s=n(i[o]);e[s].references--}for(var c=r(t,a),u=0;u<i.length;u++){var l=n(i[u]);0===e[l].references&&(e[l].updater(),e.splice(l,1))}i=c}}},569:t=>{"use strict";var e={};t.exports=function(t,n){var r=function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}(t);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},216:t=>{"use strict";t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},565:(t,e,n)=>{"use strict";t.exports=function(t){var e=n.nc;e&&t.setAttribute("nonce",e)}},795:t=>{"use strict";t.exports=function(t){var e=t.insertStyleElement(t);return{update:function(n){!function(t,e,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var a=void 0!==n.layer;a&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,a&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var i=n.sourceMap;i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleTagTransform(r,t,e.options)}(e,t,n)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},589:t=>{"use strict";t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}},601:()=>{HEX_SIZE=50},699:(t,e,n)=>{"use strict";n.d(e,{A:()=>a,Z:()=>o});var r,a,i=n(634);!function(t){t.HP="health_point",t.MP="mana_point",t.PD="physical_damgage",t.MD="magical_damage",t.AS="attack_speed",t.MS="movement_speed"}(a||(a={}));const o={COMPLEX_STAT_FORMULA:((r={})[a.HP]="{".concat(i.R.VIT,"} * 10"),r[a.MP]="{".concat(i.R.INT,"} * 10"),r[a.PD]="{".concat(i.R.STR,"} * 3"),r[a.MD]="{".concat(i.R.INT,"} * 3"),r[a.AS]="{".concat(i.R.AGI,"} * 1.5"),r[a.MS]="{".concat(i.R.AGI,"} * 10"),r)}},31:(t,e,n)=>{"use strict";var r=[{q:1,r:0},{q:1,r:-1},{q:0,r:-1},{q:-1,r:0},{q:-1,r:1},{q:0,r:1}],a=[2,3,4],i=function(t,e){return{q:t.q+e.q,r:t.r+e.r}},o=function(t,e){return{q:t.q-e.q,r:t.r-e.r}},s=function(t,e){return t.r===e.r&&t.q===e.q},c=function(t,e){return i(t,function(t){return r[t]}(e))},u=function(){return HEX_SIZE*cam.zoom},l=function(t){return{q:t.q,r:t.r}},h=function(t){var e=t.q,n=t.r;return{q:e,r:n,s:-e-n}},f=function(t){var e=Math.round(t.q),n=Math.round(t.r),r=Math.round(t.s),a=Math.abs(e-t.q),i=Math.abs(n-t.r),o=Math.abs(r-t.s);return a>i&&a>o?e=-n-r:i>o?n=-e-r:r=-e-n,{q:e,r:n,s:r}},d=function(t){return l(f(h(t)))},p={axialAdd:i,axialSubtract:o,axialEqual:s,axialIsLeft:function(t,e){var n=o(t,e),i=r.findIndex((function(t){return s(t,n)}));return a.includes(i)},axialDistance:function(t,e){var n=o(t,e);return(Math.abs(n.q)+Math.abs(n.q+n.r)+Math.abs(n.r))/2},axialNeighbor:c,getAxialNeighbors:function(t){for(var e=[],n=0;n<6;n++)e.push(c(t,n));return e},cubeToAxial:l,axialToCube:h,cubeRound:f,axialRound:d,pixelToHex:function(t){var e=(Math.sqrt(3)/3*t.x-1/3*t.y)/u(),n=2/3*t.y/u();return d({q:e,r:n})},hexToPixel:function(t){return{x:HEX_SIZE*(Math.sqrt(3)*t.q+Math.sqrt(3)/2*t.r),y:HEX_SIZE*(1.5*t.r)}},axialToStore:function(t){return{x:t.r,y:t.q+Math.floor(t.r/2)}},lerp:function(t,e,n){return t+(e-t)*n}};const v=p;var m={init:function(t){for(var e=0;e<t.length;e++)for(var n=0;n<t[e].length;n++)t[e][n].f=0,t[e][n].g=0,t[e][n].h=0,t[e][n].debug=0,t[e][n].parent=null,t[e][n].neighbors=[];for(e=0;e<t.length;e++)for(n=0;n<t[e].length;n++)for(var r=0,a=v.getAxialNeighbors(t[e][n]);r<a.length;r++){var i=a[r],o=v.axialToStore(i),s=o.x,c=o.y;s<0||s>=t.length||c>=t[e].length||c<0||t[s][c].block||t[e][n].neighbors.push(t[s][c])}return t},getBoardHex:function(t,e){var n=v.axialToStore(t),r=n.x,a=n.y;return e[r][a]},search:function(t,e,n){var r=m.init(t),a=m.getBoardHex(e,r),i=m.getBoardHex(n,r),o=[],s=[],c=[];for(o.push(a);o.length;){for(var u=0,l=0;l<o.length;l++)o[l].f<o[u].f&&(u=l);var h=o[u];if(h===i){var f=h;for(c.push(f);f.parent;)c.push(f.parent),f=f.parent;return c.reverse()}o.splice(u,1),s.push(h);var d=h.neighbors;for(l=0;l<d.length;l++){var p=d[l];if(!s.includes(p)){var y=h.g+1;if(o.includes(p)){if(y>=p.g)continue}else o.push(p);p.g=y,p.h=v.axialDistance(p,i),p.f=p.g+p.h,p.parent=h}}}return[]}};const y=m;var x=function(){return x=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t},x.apply(this,arguments)},b={focus:function(t){var e=canvas.width,r=canvas.height;n.g.cam={x:t.x-e/2,y:t.y-r/2,zoom:1,width:e,height:r}},move:function(t){n.g.cam=x(x({},n.g.cam),{x:n.g.cam.x+t.x,y:n.g.cam.y+t.y})},zoom:function(t){t.offsetX,t.offsetY;var e=t.deltaY,r=cam.zoom*(1+.05*Math.sign(e));n.g.cam=x(x({},n.g.cam),{zoom:r})},inCam:function(t){if("number"==typeof t)return t*cam.zoom;var e,n=t,r=n.x,a=n.y,i=n.width,o=n.height,s=n.size,c={x:(r-cam.x)*cam.zoom,y:(a-cam.y)*cam.zoom,width:i*cam.zoom,height:o*cam.zoom,size:s*cam.zoom};return"object"!=typeof(e=c)||Object.keys(e).forEach((function(t){(void 0===e[t]||Number.isNaN(e[t]))&&delete e[t]})),e},mouseCam:function(t){return x(x({},t),{x:t.offsetX+cam.x*cam.zoom,y:t.offsetY+cam.y*cam.zoom})}};const g=b;document.getElementById("sprite");var w=2*Math.PI/6,_={clearScreen:function(){ctx.clearRect(0,0,canvas.width,canvas.height)},drawHex:function(t,e){void 0===e&&(e="white");var n=g.inCam(t),r=n.x,a=n.y,i=n.size;ctx.beginPath();for(var o=0;o<6;o++)ctx.lineTo(r+i*Math.sin(w*o),a+i*Math.cos(w*o));ctx.closePath(),ctx.fillStyle=e,ctx.fill()},drawRect:function(t){var e=g.inCam(t),n=e.x,r=e.y,a=e.width,i=e.height;ctx.fillStyle="white",ctx.fillRect(n,r,a,i)},drawText:function(t,e,n){void 0===n&&(n="black");var r=g.inCam(e),a=r.x,i=r.y;ctx.font="20px Arial",ctx.fillStyle=n,ctx.fillText(t,a,i)},drawImage:function(t,e,n,r,a){void 0===n&&(n=0),void 0===r&&(r=0),void 0===a&&(a=1);var i=g.inCam(e),o=i.x,s=i.y,c=g.inCam(HEX_SIZE/720*4);ctx.save(),-1===a?(ctx.translate(o+720*c/2,s-740*c/2),ctx.scale(-1,1)):ctx.translate(o-720*c/2,s-740*c/2),ctx.drawImage(t,720*n,490*r,720,490,0,0,720*c,490*c),ctx.restore()}};const E=_;var T,S=n(634);const k={DEFAULT_STAT:((T={})[S.R.STR]=1,T[S.R.AGI]=1,T[S.R.VIT]=1,T[S.R.INT]=1,T)};var q=n(699),P=n(322);const A=function(t){return new Promise((function(e,n){var r={generator:t(),onDone:function(){return e()}};animCallback.push(r)}))};var M,C=document.getElementById("sprite");!function(t){t[t.IDLE=0]="IDLE",t[t.WALK=1]="WALK"}(M||(M={}));var I=function(){function t(t){var e=t.hex,n=void 0===e?null:e,r=t.dir,a=void 0===r?1:r;t.base_stats,this.frame=0,this.maxFrame=0,this.status=M.IDLE,this.dir=1,this.hex=n,this.dir=a,this.stats=this.initEntityBaseStat(L()),this.calcEntityComplexStat(),this.maxFrame=12,this.initAnimate()}return t.prototype.initEntityBaseStat=function(t){return Object.entries(t).reduce((function(t,e){var n=e[0],r=e[1];return t[n]=new S.Z({name:n,value:r}),t}),{})},t.prototype.calcEntityComplexStat=function(){var t=this;Object.entries(q.A).forEach((function(e){e[0];var n=e[1];t.stats[n]=new P.Z({name:n,value:t.stats})}))},t.prototype.initAnimate=function(){A(function(){var t,e;return function(t,e){var n,r,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(o=0)),o;)try{if(n=1,r&&(a=2&s[0]?r.return:s[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,s[1])).done)return a;switch(r=0,a&&(s=[2&s[0],a.value]),s[0]){case 0:case 1:a=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((a=(a=o.trys).length>0&&a[a.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!a||s[1]>a[0]&&s[1]<a[3])){o.label=s[1];break}if(6===s[0]&&o.label<a[1]){o.label=a[1],a=s;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(s);break}a[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(t){s=[6,t],r=0}finally{n=a=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}(this,(function(r){switch(r.label){case 0:t=0,r.label=1;case 1:return t+=n.g.deltaTime,e=1e3/this.maxFrame,t>e&&(t=0,this.frame+=1,this.frame>=this.maxFrame&&(this.frame=0)),[4,null];case 2:return r.sent(),[3,1];case 3:return[2]}}))}.bind(this))},t.prototype.startAnimate=function(t){switch(this.status=t,t){case M.IDLE:this.maxFrame=12,this.frame=0;break;case M.WALK:this.maxFrame=18,this.frame=0;break;default:this.maxFrame=0,this.frame=0}},t.prototype.action=function(){},t.prototype.render=function(){var t=v.hexToPixel(this.hex),e=t.x,n=t.y;E.drawImage(C,{x:e,y:n},this.frame,this.status,this.dir)},t}(),L=function(){var t=k.DEFAULT_STAT,e=Math.round(2.5*Object.keys(S.R).length),n=0;for(var r in t){var a=Math.round(2*Math.random()+1);n+=a,t[r]=a}return t[S.R.AGI]=e-(n-t[S.R.AGI]),t};const O=I;var R=function(){return R=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t},R.apply(this,arguments)},D=function(t,e){var n,r,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(o=0)),o;)try{if(n=1,r&&(a=2&s[0]?r.return:s[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,s[1])).done)return a;switch(r=0,a&&(s=[2&s[0],a.value]),s[0]){case 0:case 1:a=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((a=(a=o.trys).length>0&&a[a.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!a||s[1]>a[0]&&s[1]<a[3])){o.label=s[1];break}if(6===s[0]&&o.label<a[1]){o.label=a[1],a=s;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(s);break}a[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(t){s=[6,t],r=0}finally{n=a=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},H=function(){function t(t){var e=t.q,n=t.r,r=t.owner,a=void 0===r?null:r,i=t.block,o=void 0!==i&&i;this.q=e,this.r=n,this.owner=a,this.block=o}return t.prototype.updatePos=function(t){this.r=t.r,this.q=t.q},t.prototype.move=function(t){return e=this,r=void 0,i=function(){function e(){var e,r,a;return D(this,(function(i){switch(i.label){case 0:if(!t.length)return[2];e=0,r=R({},this),a=t.splice(0,1)[0],this.owner.dir=v.axialIsLeft(a,r)?-1:1,i.label=1;case 1:if(this.updatePos({r:v.lerp(r.r,a.r,e/500),q:v.lerp(r.q,a.q,e/500)}),e>=500){if(e=0,r=a,!t.length)return this.updatePos(a),[3,3];a=t.splice(0,1)[0],this.owner.dir=v.axialIsLeft(a,r)?-1:1}return e+=n.g.deltaTime,[4,null];case 2:return i.sent(),[3,1];case 3:return[2]}}))}return D(this,(function(t){switch(t.label){case 0:return this.owner.startAnimate(M.WALK),[4,A(e.bind(this))];case 1:return t.sent(),this.owner.startAnimate(M.IDLE),[2]}}))},new((a=void 0)||(a=Promise))((function(t,n){function o(t){try{c(i.next(t))}catch(t){n(t)}}function s(t){try{c(i.throw(t))}catch(t){n(t)}}function c(e){var n;e.done?t(e.value):(n=e.value,n instanceof a?n:new a((function(t){t(n)}))).then(o,s)}c((i=i.apply(e,r||[])).next())}));var e,r,a,i},t}();const F=H;var z=[{pos:{x:0,y:1},side:"ally"},{pos:{x:0,y:3},side:"ally"},{pos:{x:0,y:5},side:"ally"},{pos:{x:9,y:1},side:"enemy"},{pos:{x:9,y:3},side:"enemy"},{pos:{x:9,y:5},side:"enemy"}],K=function(){function t(t){var e=this;this.path=[],this.count=0,this.canAction=!0,this.allies=[],this.enemies=[],this.board=t,z.forEach((function(t){e.addHexEntity(t.pos,"ally"===t.side)})),canvas.addEventListener("click",this.mouseClickHandler.bind(this)),canvas.addEventListener("mousemove",this.mouseMoveHandler.bind(this))}return t.prototype.addHexEntity=function(t,e){var n=e?this.allies:this.enemies,r=new F(this.board[t.y][t.x]);r.owner=new O({hex:r,dir:e?1:-1}),n.push(r),this.board[t.y][t.x].block=!0},t.prototype.mouseClickHandler=function(t){return e=this,n=void 0,a=function(){var e,n,r,a,i,o,s,c,u,l;return function(t,e){var n,r,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(o=0)),o;)try{if(n=1,r&&(a=2&s[0]?r.return:s[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,s[1])).done)return a;switch(r=0,a&&(s=[2&s[0],a.value]),s[0]){case 0:case 1:a=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((a=(a=o.trys).length>0&&a[a.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!a||s[1]>a[0]&&s[1]<a[3])){o.label=s[1];break}if(6===s[0]&&o.label<a[1]){o.label=a[1],a=s;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(s);break}a[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(t){s=[6,t],r=0}finally{n=a=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}(this,(function(h){switch(h.label){case 0:return this.canAction?(e=t.shiftKey,n=v.pixelToHex(g.mouseCam(t)),r=n.r,a=n.q,i=v.axialToStore({r,q:a}),o=i.x,s=i.y,r>=this.board.length||r<0?[2]:e?(this.board[o][s].block=!this.board[o][s].block,[2]):this.select?v.axialEqual(this.select,{r,q:a})?(this.select=null,[2]):this.board[o][s].block?[3,2]:(this.canAction=!1,c=v.axialToStore(this.select),u=c.x,l=c.y,this.board[u][l].block=!1,[4,this.select.move(this.path)]):[3,3]):[2];case 1:h.sent(),this.board[o][s].block=!0,this.select=null,this.canAction=!0,h.label=2;case 2:return[3,4];case 3:this.select=this.allies.find((function(t){return v.axialEqual(t,{r,q:a})}))||this.enemies.find((function(t){return v.axialEqual(t,{r,q:a})})),h.label=4;case 4:return[2]}}))},new((r=void 0)||(r=Promise))((function(t,i){function o(t){try{c(a.next(t))}catch(t){i(t)}}function s(t){try{c(a.throw(t))}catch(t){i(t)}}function c(e){var n;e.done?t(e.value):(n=e.value,n instanceof r?n:new r((function(t){t(n)}))).then(o,s)}c((a=a.apply(e,n||[])).next())}));var e,n,r,a},t.prototype.mouseMoveHandler=function(t){var e,n,r;if(this.select&&this.canAction){var a=v.pixelToHex(g.mouseCam(t)),i=v.axialToStore(a),o=i.x,s=i.y;if(!(o>=this.board.length||o<0||s<0||s>=this.board[o].length||(null===(e=this.board[o][s])||void 0===e?void 0:e.block))){var c=new F(this.board[o][s]);c.r===(null===(n=this.hover)||void 0===n?void 0:n.r)&&c.q===(null===(r=this.hover)||void 0===r?void 0:r.q)||(this.hover=c,this.path=y.search(this.board,this.select,this.hover),this.path.splice(0,1))}}},t.prototype.render=function(){var t,e,n,r,a,i=this;null===(t=this.board)||void 0===t||t.map((function(t){null==t||t.map((function(t){var e=v.hexToPixel(t),n=e.x,r=e.y,a=t.color;if(i.select)for(var o=0;o<6;o++){var s=v.axialNeighbor(i.select,o);s&&t.q===s.q&&t.r===s.r&&(a="lightyellow")}t.block&&(a="gray"),E.drawHex({x:n,y:r,size:HEX_SIZE},a)}))})),(null===(e=this.allies)||void 0===e?void 0:e.length)&&this.allies.forEach((function(t){var e,n=v.hexToPixel(t);n.x,n.y,null===(e=null==t?void 0:t.owner)||void 0===e||e.render()})),(null===(n=this.enemies)||void 0===n?void 0:n.length)&&this.enemies.forEach((function(t){var e,n=v.hexToPixel(t);n.x,n.y,null===(e=null==t?void 0:t.owner)||void 0===e||e.render()})),(null===(r=this.path)||void 0===r?void 0:r.length)&&(null===(a=this.path)||void 0===a||a.forEach((function(t){var e=v.hexToPixel(t),n=e.x,r=e.y;E.drawHex({x:n,y:r,size:.3*HEX_SIZE},"orange")})))},t}();const N=K;var Z={resize:function(){var t=canvas.parentElement;if(t){var e=t.getBoundingClientRect(),n=e.width,r=e.height;canvas.width=n,canvas.height=r}},getCenter:function(){return{x:canvas.width/2,y:canvas.height/2}}};const j=Z;var V,W,B;!function(t){t.TOP="top",t.LEFT="left",t.RIGHT="right",t.DOWN="down"}(B||(B={}));var G=((V={})[B.TOP]={isPress:!1},V[B.LEFT]={isPress:!1},V[B.RIGHT]={isPress:!1},V[B.DOWN]={isPress:!1},V),X=((W={})[B.TOP]=["KeyW"],W[B.LEFT]=["KeyA"],W[B.RIGHT]=["KeyD"],W[B.DOWN]=["KeyS"],W),U=function(){function t(){}return t.isPress=function(t){return this.keyboardStatus[t].isPress},t.bindEvent=function(){window.addEventListener("keydown",this.bindKey),window.addEventListener("keyup",this.bindKey)},t.unbindEvent=function(){window.removeEventListener("keydown",this.bindKey),window.removeEventListener("keyup",this.bindKey)},t.bindKey=function(e){var n=e.type,r=e.code,a=Object.entries(t.keyboardMapping).find((function(t){return t[0],t[1].includes(r)}));a&&(t.keyboardStatus[a[0]].isPress="keydown"===n)},t.keyboardMapping=X,t.keyboardStatus=G,t}();const Y=U;n(601);var J=n(379),Q=n.n(J),$=n(795),tt=n.n($),et=n(569),nt=n.n(et),rt=n(565),at=n.n(rt),it=n(216),ot=n.n(it),st=n(589),ct=n.n(st),ut=n(426),lt={};lt.styleTagTransform=ct(),lt.setAttributes=at(),lt.insert=nt().bind(null,"head"),lt.domAPI=tt(),lt.insertStyleElement=ot(),Q()(ut.Z,lt),ut.Z&&ut.Z.locals&&ut.Z.locals;var ht=document.createElement("canvas");n.g.canvas=ht,n.g.ctx=ht.getContext("2d"),n.g.cameraSpeed=1e3,n.g.animCallback=[];var ft=document.createElement("div");ft.id="app",ft.appendChild(ht),document.body.appendChild(ft);for(var dt=[],pt=0;pt<8;pt++){dt.length<pt+1&&dt.push([]);for(var vt=0;vt<10;vt++)dt[pt].push(new F({r:pt,q:vt-Math.floor(pt/2)}))}var mt=new N(dt),yt=function(){var t=(new Date).getTime();n.g.deltaTime=t-n.g.prev,n.g.prev=t,animCallback.forEach((function(t,e){t.generator.next().done&&(t.onDone(),animCallback.splice(e,1))})),function(){var t=+Y.isPress(B.RIGHT)-+Y.isPress(B.LEFT),e=+Y.isPress(B.DOWN)-+Y.isPress(B.TOP);if(t||e){var r=cameraSpeed*n.g.deltaTime/1e3/n.g.cam.zoom;g.move({x:t*r,y:e*r})}}(),E.clearScreen(),ctx.font="30px Arial",ctx.strokeStyle="white",ctx.strokeText("FPS: ".concat(Math.floor(n.g.deltaTime/1e3*3600)),10,40),mt.render(),window.requestAnimationFrame(yt)};n.g.prev=(new Date).getTime(),j.resize(),g.focus({x:300,y:200}),Y.bindEvent(),window.addEventListener("resize",j.resize),window.addEventListener("wheel",(function(t){g.zoom(t)})),window.requestAnimationFrame(yt)},322:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _constants_StatConstants__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(699),_Stat__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(634),__extends=(extendStatics=function(t,e){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},extendStatics(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}extendStatics(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),extendStatics,ComplexStat=function(_super){function ComplexStat(t){var e=t.name,n=t.value,r=_super.call(this,{name:e,value:0})||this;return r.calcHighStat(n),r.calcFinalValue(),r}return __extends(ComplexStat,_super),ComplexStat.prototype.calcHighStat=function(stats){var formula=_constants_StatConstants__WEBPACK_IMPORTED_MODULE_0__.Z.COMPLEX_STAT_FORMULA[this.name],result=formula.replace(/{(\w+)}/g,(function(t,e){return"".concat(stats[e].finalValue)}));this.baseValue=eval(result)||0},ComplexStat}(_Stat__WEBPACK_IMPORTED_MODULE_1__.Z);const __WEBPACK_DEFAULT_EXPORT__=ComplexStat},634:(t,e,n)=>{"use strict";var r;n.d(e,{R:()=>r,Z:()=>a}),function(t){t.STR="strength",t.AGI="agility",t.VIT="vitality",t.INT="intellegent"}(r||(r={}));const a=function(){function t(t){var e=t.name,n=t.value;this.addModifier=[],this.ampModifier=[],this.name=e,this.baseValue=n,this.calcFinalValue()}return t.prototype.setValue=function(t){return this.baseValue=t,this.calcFinalValue()},t.prototype.calcFinalValue=function(){var t,e,n=null===(t=this.addModifier)||void 0===t?void 0:t.reduce((function(t,e){return t+e.value}),0),r=null===(e=this.ampModifier)||void 0===e?void 0:e.reduce((function(t,e){return t+e.value}),0);return this.finalValue=this.baseValue*(1+r/100)+n,this.finalValue},t}()}},t=>{t(t.s=31)}]);